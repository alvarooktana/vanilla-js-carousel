function Carousel(e){function t(){L&&i(),h&&l(),y&&o(),p&&v(),n(E-1,-_.offsetWidth+"px","afterBegin"),g&&u(g)}function n(e,t,n){var i=_.querySelectorAll(".b-carousel__items li")[e];i.style.marginLeft=t,_.querySelector(".b-carousel__items").removeChild(i),_.querySelector(".b-carousel__items").insertAdjacentHTML(n,i.outerHTML)}function i(){var e=document.createElement("ul");e.classList.add("b-carousel__nav-dots"),e.addEventListener("click",r);for(var t=0;E>t;t++){var n=document.createElement("li");n.setAttribute("data-position",t),e.appendChild(n)}_.appendChild(e),a()}function a(){switch([].forEach.call(_.querySelectorAll(".b-carousel__nav-dots li"),function(e){e.classList.remove("active")}),q){case-1:q=E-1;break;case E:q=0}_.querySelectorAll(".b-carousel__nav-dots li")[q].classList.add("active")}function r(e){"LI"===e.target.tagName&&u(e.target.getAttribute("data-position"))}function l(){var e=document.createElement("button");e.innerHTML="&lsaquo;",e.classList.add("b-carousel__nav-arrow_prev");var t=document.createElement("button");t.innerHTML="&rsaquo;",t.classList.add("b-carousel__nav-arrow_next"),e.addEventListener("click",d),t.addEventListener("click",f),_.appendChild(e),_.appendChild(t)}function o(){var e=document.createElement("button");e.innerHTML="Play",e.classList.add("b-carousel__button_play"),e.addEventListener("click",v);var t=document.createElement("button");t.innerHTML="Stop",t.classList.add("b-carousel__button_stop"),t.addEventListener("click",m),_.appendChild(e),_.appendChild(t)}function s(e,t){return t>=0?(e.style.marginLeft="",void 0):(e.style.marginLeft=t+"px",setTimeout(function(){s(e,t+100)},20),void 0)}function c(e,t){return t<=-_.offsetWidth?(e.style.marginLeft=-_.offsetWidth+"px",void 0):(e.style.marginLeft=t+"px",setTimeout(function(){c(e,t-100)},20),void 0)}function u(e){var t=q-e;if(0!==t)if(0>t)for(var n=0;-t>n;n++)f();else for(var n=0;t>n;n++)d()}function d(){s(_.querySelectorAll(".b-carousel__items li")[0],0),n(E-1,-_.offsetWidth+"px","afterBegin"),q--,a()}function f(){c(_.querySelectorAll(".b-carousel__items li")[1],-_.offsetWidth),n(0,"","beforeEnd"),q++,a()}function v(){S||(S=setInterval(f,b))}function m(){clearInterval(S),S=null}var _=document.getElementById(e.id),p=e.autoplay||!1,b=e.interval||3e3,L=e.dots&&!0,h=e.arrows&&!0,y=e.buttons&&!0,E=_.querySelectorAll("li").length,g=e.initial>=E?E:e.initial,q=0,S=null;E>1&&t(),this.initSlide=u,this.prev=d,this.next=f,this.play=v,this.stop=m}